# Weekly Planning

Generate or review the weekly training plan based on current fitness, goals, and life context.

## Required Context
- `current_phase`: Training phase (base, build, peak, taper)
- `goal_race`: Target race if any
- `weekly_mileage`: Current and previous weeks
- `recent_workouts`: Last 2-3 weeks of training
- `life_events`: Known schedule conflicts, travel
- `athlete_knowledge`: Preferences, patterns, sensitivities
- `active_injury`: Any limiting factors

## Planning Process

### 1. Review Previous Week

Assess:
- Plan adherence: completed/skipped/modified
- Total volume vs target
- Quality session execution
- Recovery indicators
- Lessons learned

### 2. Set Weekly Targets

Based on:
- Training phase requirements
- Ramp rate limits (default max 10%)
- Recovery needs from previous week
- Upcoming schedule constraints

### 3. Distribute Workouts

Follow principles:
- Key sessions (A priority) get optimal days
- Hard days should be followed by easy days
- Long run on preferred day (typically weekend)
- Consider travel, work schedule, life events
- Build in flexibility for C priority sessions

### 4. Workout Priorities

**A Priority (protect):**
- The key session for the week
- Don't skip unless readiness is red
- Reschedule rather than drop

**B Priority (important):**
- Supporting sessions
- Can be modified if needed
- Okay to reduce volume

**C Priority (flexible):**
- First to go if life intervenes
- Can be converted to easy
- Recovery runs, optional doubles

### 5. Contingency Planning

Prepare alternatives:
- If weather is bad
- If readiness is low
- If time is limited
- If minor aches appear

### 6. Output Format

Provide for each day:
1. Workout type and priority (A/B/C)
2. Target distance and duration
3. Intensity/pace guidance
4. Prescription (warmup, main, cooldown)
5. Rationale (why this workout, this day)
6. Contingency option

Week summary:
- Total planned mileage
- Quality sessions count
- Rest days
- Key sessions to protect
- Known risks or concerns
